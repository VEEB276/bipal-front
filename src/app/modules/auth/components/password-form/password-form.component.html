<form [formGroup]="form" class="password-form">
  <!-- Lista de validaciones -->
  <div class="password-requirements">
    <p class="requirements-title">La contraseña debe cumplir:</p>
    <ul>
      <li [class.valid]="hasMinLength">
        <mat-icon>{{
          hasMinLength ? "check_circle" : "radio_button_unchecked"
        }}</mat-icon>
        Al menos 6 caracteres
      </li>
      <li [class.valid]="hasUpperCase">
        <mat-icon>{{
          hasUpperCase ? "check_circle" : "radio_button_unchecked"
        }}</mat-icon>
        Al menos una mayúscula
      </li>
      <li [class.valid]="hasNumber">
        <mat-icon>{{
          hasNumber ? "check_circle" : "radio_button_unchecked"
        }}</mat-icon>
        Al menos un número
      </li>
      <li [class.valid]="hasValidCharacters">
        <mat-icon>{{
          hasValidCharacters ? "check_circle" : "radio_button_unchecked"
        }}</mat-icon>
        Al menos un carácter especial
      </li>
    </ul>
  </div>

  <mat-form-field required class="wid-100">
    <mat-label>Nueva contraseña</mat-label>
    <mat-icon matPrefix class="prefix-icon">lock</mat-icon>
    <input
      matInput
      [type]="hidePassword ? 'password' : 'text'"
      autocomplete="off"
      [readonly]="false"
      formControlName="password"
    />
    <button
      matSuffix
      mat-icon-button
      (click)="hidePassword = !hidePassword"
      type="button"
    >
      <mat-icon>{{ hidePassword ? "visibility_off" : "visibility" }}</mat-icon>
    </button>
  </mat-form-field>

  <mat-form-field required class="wid-100">
    <mat-label>Confirmar contraseña</mat-label>
    <mat-icon matPrefix class="prefix-icon">lock</mat-icon>
    <input
      matInput
      [type]="hideConfirmPassword ? 'password' : 'text'"
      autocomplete="off"
      [readonly]="false"
      placeholder="Ingresa la misma contraseña"
      formControlName="confirmPassword"
    />
    <button
      matSuffix
      mat-icon-button
      (click)="hideConfirmPassword = !hideConfirmPassword"
      type="button"
    >
      <mat-icon>{{
        hideConfirmPassword ? "visibility_off" : "visibility"
      }}</mat-icon>
    </button>
  </mat-form-field>

  @if (form.hasError('passwordMismatch')) {
  <mat-error style="text-align: center;">Las contraseñas deben coincidir</mat-error>
  }
</form>
