// Sobrescritura de temas para Angular Material M3
@use "@angular/material" as mat;
@use "sass:map";

// Importamos las paletas de colores
@use "./theme-colors" as colors;

// Error buttons
.mat-mdc-raised-button.mat-error,
.mat-mdc-unelevated-button.mat-error {
  --mdc-protected-button-container-color: var(--mat-error-color);
  --mdc-filled-button-container-color: var(--mat-error-color);
  --mdc-filled-button-label-text-color: var(--mat-error-on-container-color);
  --mdc-protected-button-label-text-color: var(--mat-error-on-container-color);
}

// Info buttons
.mat-mdc-raised-button.mat-info,
.mat-mdc-unelevated-button.mat-info,
.mat-mdc-flat-button.mat-info {
  --mdc-protected-button-container-color: var(--info-color);
  --mdc-filled-button-container-color: var(--info-color);
  --mdc-filled-button-label-text-color: var(--on-info);
  --mdc-protected-button-label-text-color: var(--on-info);
}

.mat-mdc-outlined-button.mat-info,
.mat-mdc-stroked-button.mat-info {
  --mdc-outlined-button-label-text-color: var(--info-color);
  --mdc-outlined-button-outline-color: var(--info-color);
  &:hover { background-color: rgba(1,99,152,0.08); }
}

.mat-mdc-button.mat-info,
.mat-mdc-text-button.mat-info {
  --mdc-text-button-label-text-color: var(--info-color);
  &:hover { background-color: rgba(1,99,152,0.08); }
}

.mat-mdc-outlined-button.mat-error,
.mat-mdc-stroked-button.mat-error {
  --mdc-outlined-button-label-text-color: var(--mat-error-color);
  --mdc-outlined-button-outline-color: var(--mat-error-color);

  &:hover {
    background-color: rgba(var(--mat-error-color-rgb), 0.08);
  }
}

.mat-mdc-button.mat-error,
.mat-mdc-text-button.mat-error {
  --mdc-text-button-label-text-color: var(--mat-error-color);

  &:hover {
    background-color: rgba(var(--mat-error-color-rgb), 0.08);
  }
}

// Secondary buttons
.mat-mdc-raised-button.mat-secondary,
.mat-mdc-unelevated-button.mat-secondary,
.mat-mdc-flat-button.mat-secondary {
  --mdc-protected-button-container-color: var(--mat-secondary-color);
  --mdc-protected-button-label-text-color: var(--mat-on-secondary-color);
}

.mat-mdc-outlined-button.mat-secondary,
.mat-mdc-stroked-button.mat-secondary {
  --mdc-outlined-button-label-text-color: var(--mat-secondary-color);
  --mdc-outlined-button-outline-color: var(--mat-secondary-color);

  &:hover {
    background-color: rgba(var(--mat-secondary-color-rgb), 0.08);
  }
}

.mat-mdc-button.mat-secondary,
.mat-mdc-text-button.mat-secondary {
  --mdc-text-button-label-text-color: var(--mat-secondary-color);

  &:hover {
    background-color: rgba(var(--mat-secondary-color-rgb), 0.08);
  }
}

// Override existing warn buttons to match the new style
.mat-mdc-raised-button.mat-warn,
.mat-mdc-unelevated-button.mat-warn {
  --mdc-protected-button-container-color: var(--mat-warn-color);
  --mdc-protected-button-label-text-color: var(--mat-on-warn-color);
}

.mat-mdc-outlined-button.mat-warn,
.mat-mdc-stroked-button.mat-warn {
  --mdc-outlined-button-label-text-color: var(--mat-warn-color);
  --mdc-outlined-button-outline-color: var(--mat-warn-color);

  &:hover {
    background-color: rgba(var(--mat-warn-color-rgb), 0.08);
  }
}

.mat-mdc-button.mat-warn,
.mat-mdc-text-button.mat-warn {
  --mdc-text-button-label-text-color: var(--mat-warn-color);

  &:hover {
    background-color: rgba(var(--mat-warn-color-rgb), 0.08);
  }
}

// CSS variables para usar en componentes
// Vamos a usar las variables definidas en _variables.scss
// en lugar de crear nuevas paletas

:root {
  // Primary
  --mat-primary-color: var(--primary-color);
  --mat-primary-color-rgb: 30, 108, 43; // Valor RGB de primary-color (tone 40)
  --mat-on-primary-color: var(--on-primary);

  // Accent (usando tertiary como accent)
  --mat-accent-color: var(--tertiary-color);
  --mat-accent-color-rgb: 127, 74, 137; // Valor RGB de tertiary-color (tone 40)
  --mat-on-accent-color: var(--on-tertiary);

  // Warn (usando warning-color)
  --mat-warn-color: var(--warning-color);
  --mat-warn-color-rgb: 154, 99, 164; // Valor RGB de warning-color (tertiary tone 50)
  --mat-on-warn-color: var(--on-tertiary);

    // Info mapping (no est√°ndar en Material, para uso de botones custom)
    --mat-info-color: var(--info-color);
    --mat-on-info-color: var(--on-info);
    --mat-info-color-rgb: 1, 99, 152;

  // Error (usando error-color)
  --mat-error-color: var(--error-color);
  --mat-error-color-rgb: 186, 26, 26; // Valor RGB de error-color (tone 40)
  --mat-error-on-container-color: var(--on-error);

  // Secondary
  --mat-secondary-color: var(--secondary-color);
  --mat-secondary-color-rgb: 93, 93, 112; // Valor RGB de secondary-color (tone 40)
  --mat-on-secondary-color: var(--on-secondary);
}

// Snackbar overrides for notification types
.snackbar-success {
  --mat-snack-bar-button-color: white;
  --mdc-snackbar-container-color: var(--success-color);
  --mdc-snackbar-supporting-text-color: var(--on-primary);
  
  .mat-mdc-snack-bar-action {
    --mdc-snackbar-action-label-text-color: var(--on-primary);
  }
}

.snackbar-error {
  --mat-snack-bar-button-color: white;
  --mdc-snackbar-container-color: var(--error-color);
  --mdc-snackbar-supporting-text-color: var(--on-error);
  
  .mat-mdc-snack-bar-action {
    --mdc-snackbar-action-label-text-color: var(--on-error);
  }
}

.snackbar-warning {
  --mat-snack-bar-button-color: white;
  --mdc-snackbar-container-color: var(--warning-color);
  --mdc-snackbar-supporting-text-color: var(--text-color);
  
  .mat-mdc-snack-bar-action {
    --mdc-snackbar-action-label-text-color: var(--text-color);
  }
}
