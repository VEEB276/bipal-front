import{a as D,b as S,c as j,d as w,e as P,f as I,g as k}from"./chunk-DZOGKV3D.js";import{b as y,c as M}from"./chunk-4MEDACLI.js";import{c as _}from"./chunk-MQHJCMSF.js";import{O as g,R as E,S as x,p as v}from"./chunk-DQZPZE7A.js";import"./chunk-XL4JIXB6.js";import{Pa as p,U as c,Y as d,aa as t,bc as u,fb as n,fc as h,gb as r,gd as C,hd as b,k as m,lb as f,wb as a,x as l}from"./chunk-QSPDWXCH.js";import"./chunk-FOQH46ZT.js";var s=class i{http=t(h);notify=t(E);base=g.hojaDeVidaApiUrl+"/persona";eliminarPersonaCompleta(){return this.http.delete(`${this.base}/eliminar-persona-completa`).pipe(c(()=>this.notify.showSuccess("Hoja de vida eliminada correctamente.")),l(e=>(this.handleError(e,"No fue posible eliminar los datos"),m(()=>e))))}handleError(e,o){return console.error(e),this.notify.showError(o),m(()=>e)}static \u0275fac=function(o){return new(o||i)};static \u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})};var A=class i{confirm=t(D);eliminarService=t(s);auth=t(x);store=t(v);idPersona=this.store.selectSignal(_);onClickDeleteAll(){this.confirm.open({type:"delete",title:"Eliminar todos mis datos",message:"Esta acci\xF3n <strong>eliminar\xE1 permanentemente toda</strong> la informaci\xF3n asociada a tu cuenta. \xBFDeseas continuar?"}).subscribe(e=>{e&&this.eliminarService.eliminarPersonaCompleta().subscribe(()=>this.auth.signOut())})}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-eliminar-datos"]],decls:12,vars:0,consts:[[1,"delete-card"],["align","end",1,"actions"],["mat-flat-button","","color","error",1,"btn-delete",3,"click"]],template:function(o,B){o&1&&(n(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),a(4,"database"),r(),a(5," Borrar mis datos "),r()(),n(6,"mat-card-content")(7,"p"),a(8," Si deseas borrar todos los datos de tu cuenta, puedes hacerlo presionando el bot\xF3n. Esta acci\xF3n es irreversible y eliminar\xE1 tu cuenta. "),r()(),n(9,"mat-card-actions",1)(10,"button",2),f("click",function(){return B.onClickDeleteAll()}),a(11," Borrar todos mis datos "),r()()())},dependencies:[u,k,S,P,w,I,j,b,C,M,y],styles:[".delete-card[_ngcontent-%COMP%]{margin:24px auto;max-width:880px;border:1px solid var(--outline-variant);box-shadow:none}.actions[_ngcontent-%COMP%]{padding:16px 24px 24px;display:flex;justify-content:flex-end}.btn-delete[_ngcontent-%COMP%]{text-transform:none;font-weight:600}"]})};export{A as EliminarDatosComponent};
